<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
 <title>Algorithms.10 </title>



<meta name="description" content="伤口是光能照进来的地方">


<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" id="ct-tracks-google-fonts-css" href="//fonts.googleapis.com/css?family=Raleway%3A400%2C700&amp;subset=latin%2Clatin-ext&amp;ver=4.7.2" type="text/css" media="all">
<link rel="stylesheet" href="https://ne7ermore.github.io/css/font-awesome.min.css" type='text/css' media='all'>

<link href="https://ne7ermore.github.io/css/style.css" rel="stylesheet" id="theme-stylesheet" type='text/css' media='all'>

<link href="https://ne7ermore.github.io/css/custom.css" rel="stylesheet" type='text/css' media='all'>
<link rel="shortcut icon" href="https://ne7ermore.github.io/img/favicon.jpeg" type="image/x-icon">
<link rel="icon" href="https://ne7ermore.github.io/img/favicon.jpeg" type="image/x-icon">


</head>


<body class="post-template-default single single-post single-format-standard ct-body singular singular-post not-front standard">
  
  <div id="overflow-container" class="overflow-container">
    <a class="skip-content" href="#main">Skip to content</a>
    <header id="site-header" class="site-header" role="banner">
      <div class='top-navigation'>
        <div class='container'>

  <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
    <button id="toggle-secondary-navigation" class="toggle-secondary-navigation"><i class="fa fa-plus"></i></button>

    <div class="menu">

      <ul id="menu-secondary-items" class="menu-secondary-items">
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="/categories/code">code</a>
        </li>
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="/categories/deep-learning">deep-learning</a>
        </li>
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="/categories/reinforce-learning">reinforce-learning</a>
        </li>
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="/categories/tensorflow">tensorflow</a>
        </li>
        

      </ul>

    </div>

  </div>


  <ul class="social-media-icons">


    

    

    

    

    
    <li>
      <a href="mailto:liaoyuanhuo1987@gmail.com" data-animate-hover="pulse" class="email">
        <i class="fa fa-envelope" title="email"></i>
        <span class="screen-reader-text">email</span>
      </a>
    </li>
    

    

    


    
    <li>
      <a href="https://github.com/ne7ermore" data-animate-hover="pulse" class="github" target="_blank">
        <i class="fa fa-github" title="github"></i>
        <span class="screen-reader-text">github</span>
      </a>
    </li>
    

  </ul></div>

      </div>

      <div class="container">
        <div id="title-info" class="title-info">
  <div id='site-title' class='site-title'>
    
    <a href="/"> Nevermore </a>
    </div>
  </div>
  <button id="toggle-navigation" class="toggle-navigation">
    <i class="fa fa-bars"></i>
  </button>

  <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
  <div id="menu-primary" class="menu-container menu-primary" role="navigation">
    
    <p class="site-description">Why so serious</p>
    

    <div class="menu">
      <ul id="menu-primary-items" class="menu-primary-items">
        
        
        <li id="menu-item" class='menu-item menu-item-type-custom menu-item-object-custom '>
          <a href="https://ne7ermore.github.io/">Home</a>
        </li>
        
        <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="https://ne7ermore.github.io/intro/">Intro</a>
        </li>
        
      </ul>
    </div>

  </div>

      </div>
    </header>

    <div id="main" class="main" role="main">

      
  <div id="loop-container" class="loop-container">
    

      <div class="post type-post status-publish format-standard hentry category-standard category-travel entry full-without-featured odd excerpt-1">

        
        <div class="entry-meta">
          <span class="date">December 29</span>	<span> / </span>

          <span class="author">
            
            <a href="https://ne7ermore.github.io" title="Posts by Nevermore" rel="author">Nevermore</a>
            
          </span>


          
          <span class="category">
            <span> / </span>

            <a href="/categories/code">code</a>
          </span>
          


        </div>
        <div class='entry-header'>
          <h1 class='entry-title'> Algorithms.10</h1>
        </div>
        <div class="entry-container">
          <div class="entry-content">
            <article>
              <p>树</p>
<p><a href="https://github.com/ne7ermore/playground/tree/master/python/tree">代码</a></p>
<p>线段树</p>
<p>将数组构建成二叉树，假如数组长度为n，树高度即为log(n)，其中每个节点需要储存本节点上保存起始和终止index，值，还有左右子节点。首先是建立树，按递归，一层层的往下分，直到定位到每一个数组成员，然后是查询和修改</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SegmentTreeNode</span>:
    <span style="color:#66d9ef">def</span> __init__(self, start, end, value):
        self<span style="color:#f92672">.</span>start <span style="color:#f92672">=</span> start
        self<span style="color:#f92672">.</span>end <span style="color:#f92672">=</span> end
        self<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> value
        self<span style="color:#f92672">.</span>left <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> None


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SegmentTree</span>:
    <span style="color:#66d9ef">def</span> __init__(self, arr, fn):
        self<span style="color:#f92672">.</span>fn <span style="color:#f92672">=</span> fn
        self<span style="color:#f92672">.</span>arr <span style="color:#f92672">=</span> arr
        self<span style="color:#f92672">.</span>root <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>builder(<span style="color:#ae81ff">0</span>, len(arr)<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">builder</span>(self, left, right):
        <span style="color:#66d9ef">if</span> left <span style="color:#f92672">&gt;</span> right:
            <span style="color:#66d9ef">return</span> None

        <span style="color:#66d9ef">if</span> left <span style="color:#f92672">==</span> right:
            <span style="color:#66d9ef">return</span> SegmentTreeNode(left, right, self<span style="color:#f92672">.</span>arr[left])

        mid <span style="color:#f92672">=</span> (left<span style="color:#f92672">+</span>right) <span style="color:#f92672">//</span> <span style="color:#ae81ff">2</span>
        node <span style="color:#f92672">=</span> SegmentTreeNode(left, right, self<span style="color:#f92672">.</span>fn(self<span style="color:#f92672">.</span>arr[left:right<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>]))
        node<span style="color:#f92672">.</span>left <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>builder(left, mid)
        node<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>builder(mid<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, right)

        <span style="color:#66d9ef">return</span> node

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">query</span>(self, node, start, end):
        <span style="color:#66d9ef">if</span> start <span style="color:#f92672">&lt;=</span> node<span style="color:#f92672">.</span>start <span style="color:#f92672">and</span> node<span style="color:#f92672">.</span>end <span style="color:#f92672">&lt;=</span> end:
            <span style="color:#66d9ef">return</span> node<span style="color:#f92672">.</span>value

        vs <span style="color:#f92672">=</span> []
        mid <span style="color:#f92672">=</span> (node<span style="color:#f92672">.</span>start<span style="color:#f92672">+</span>node<span style="color:#f92672">.</span>end)<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>

        <span style="color:#66d9ef">if</span> mid <span style="color:#f92672">&gt;=</span> start:
            vs<span style="color:#f92672">.</span>append(self<span style="color:#f92672">.</span>query(node<span style="color:#f92672">.</span>left, start, end))

        <span style="color:#66d9ef">if</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;=</span> end:
            vs<span style="color:#f92672">.</span>append(self<span style="color:#f92672">.</span>query(node<span style="color:#f92672">.</span>right, start, end))

        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>fn(vs)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">modify</span>(self, node, index, value):
        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>start <span style="color:#f92672">==</span> node<span style="color:#f92672">.</span>end <span style="color:#f92672">==</span> index:
            node<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> value
            <span style="color:#66d9ef">return</span>

        mid <span style="color:#f92672">=</span> (node<span style="color:#f92672">.</span>start<span style="color:#f92672">+</span>node<span style="color:#f92672">.</span>end)<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>
        <span style="color:#66d9ef">if</span> index <span style="color:#f92672">&lt;=</span> mid:
            self<span style="color:#f92672">.</span>modify(node<span style="color:#f92672">.</span>left, index, value)
        <span style="color:#66d9ef">else</span>:
            self<span style="color:#f92672">.</span>modify(node<span style="color:#f92672">.</span>right, index, value)

        node<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>fn([node<span style="color:#f92672">.</span>left<span style="color:#f92672">.</span>value, node<span style="color:#f92672">.</span>right<span style="color:#f92672">.</span>value])


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    arr <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">9</span>]
    st <span style="color:#f92672">=</span> SegmentTree(arr, max)

    <span style="color:#66d9ef">assert</span> st<span style="color:#f92672">.</span>query(st<span style="color:#f92672">.</span>root, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">5</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">7</span>

    st<span style="color:#f92672">.</span>modify(st<span style="color:#f92672">.</span>root, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">100</span>)
    st<span style="color:#f92672">.</span>modify(st<span style="color:#f92672">.</span>root, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">1000</span>)

    <span style="color:#66d9ef">assert</span> st<span style="color:#f92672">.</span>query(st<span style="color:#f92672">.</span>root, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">5</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">100</span>
</code></pre></div><ul>
<li>最近二叉搜索树值</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Node</span>:
    <span style="color:#66d9ef">def</span> __init__(self, value):
        self<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> value
        self<span style="color:#f92672">.</span>left <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> None


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">build</span>(arr):
    <span style="color:#66d9ef">if</span> len(arr) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
        <span style="color:#66d9ef">return</span> None

    <span style="color:#66d9ef">if</span> len(arr) <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
        <span style="color:#66d9ef">return</span> Node(arr[<span style="color:#ae81ff">0</span>])

    mid <span style="color:#f92672">=</span> (len(arr))<span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>
    node <span style="color:#f92672">=</span> Node(arr[mid])
    node<span style="color:#f92672">.</span>left <span style="color:#f92672">=</span> build(arr[:mid])
    node<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> build(arr[mid<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>:])

    <span style="color:#66d9ef">return</span> node


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">closest_value</span>(root, target):
    a <span style="color:#f92672">=</span> root<span style="color:#f92672">.</span>value
    kid <span style="color:#f92672">=</span> root<span style="color:#f92672">.</span>left <span style="color:#66d9ef">if</span> target <span style="color:#f92672">&lt;</span> a <span style="color:#66d9ef">else</span> root<span style="color:#f92672">.</span>right
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> kid:
        <span style="color:#66d9ef">return</span> a
    b <span style="color:#f92672">=</span> closest_value(kid, target)
    <span style="color:#66d9ef">return</span> min((a, b), key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x: abs(target<span style="color:#f92672">-</span>x))


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    arr <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">17</span>, <span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">24</span>, <span style="color:#ae81ff">35</span>, <span style="color:#ae81ff">46</span>]
    node <span style="color:#f92672">=</span> build(arr)

    <span style="color:#66d9ef">assert</span> closest_value(node, <span style="color:#ae81ff">23</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">24</span>
</code></pre></div><ul>
<li>二叉搜索树</li>
</ul>
<p>方法：增加，搜索，删除节点，深度总和，高度，第k小成员，空节点总数，最小公共祖先，子树包含，最长连续长度，root到叶节点路径总和值存在</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Node</span>:
    <span style="color:#66d9ef">def</span> __init__(self, value):
        self<span style="color:#f92672">.</span>value <span style="color:#f92672">=</span> value
        self<span style="color:#f92672">.</span>left <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> None


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">BST</span>:
    <span style="color:#66d9ef">def</span> __init__(self):
        self<span style="color:#f92672">.</span>root <span style="color:#f92672">=</span> None

    <span style="color:#a6e22e">@property</span>
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_root</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>root

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">size</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_size(self<span style="color:#f92672">.</span>root)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_size</span>(self, node):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>

        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>recur_size(node<span style="color:#f92672">.</span>left)<span style="color:#f92672">+</span>self<span style="color:#f92672">.</span>recur_size(node<span style="color:#f92672">.</span>right)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">search</span>(self, value):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_search(self<span style="color:#f92672">.</span>root, value)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_search</span>(self, node, value):
        <span style="color:#66d9ef">if</span> node <span style="color:#f92672">is</span> None:
            <span style="color:#66d9ef">return</span> False

        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> value:
            <span style="color:#66d9ef">return</span> True

        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">&gt;</span> value:
            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_search(node<span style="color:#f92672">.</span>left, value)

        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_search(node<span style="color:#f92672">.</span>right, value)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">insert</span>(self, value):
        <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>root:
            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_insert(self<span style="color:#f92672">.</span>root, value)

        self<span style="color:#f92672">.</span>root <span style="color:#f92672">=</span> Node(value)
        <span style="color:#66d9ef">return</span> True

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_insert</span>(self, node, value):
        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> value:
            <span style="color:#66d9ef">return</span> False

        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">&gt;</span> value:
            <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>left <span style="color:#f92672">is</span> None:
                node<span style="color:#f92672">.</span>left <span style="color:#f92672">=</span> Node(value)
                <span style="color:#66d9ef">return</span> True
            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_insert(node<span style="color:#f92672">.</span>left, value)
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>right <span style="color:#f92672">is</span> None:
                node<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> Node(value)
                <span style="color:#66d9ef">return</span> True
            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_insert(node<span style="color:#f92672">.</span>right, value)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">delete</span>(self, value):
        self<span style="color:#f92672">.</span>root <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>recur_del(self<span style="color:#f92672">.</span>root, value)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_del</span>(self, node, value):
        <span style="color:#66d9ef">if</span> node <span style="color:#f92672">is</span> None:
            <span style="color:#66d9ef">return</span> None

        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> value:
            <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>left:
                attach_node <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>left
                <span style="color:#66d9ef">while</span> attach_node<span style="color:#f92672">.</span>right:
                    attach_node <span style="color:#f92672">=</span> attach_node<span style="color:#f92672">.</span>right

                attach_node<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>right
                <span style="color:#66d9ef">return</span> node<span style="color:#f92672">.</span>left

            <span style="color:#66d9ef">else</span>:
                <span style="color:#66d9ef">return</span> node<span style="color:#f92672">.</span>right

        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">&lt;</span> value:
            node<span style="color:#f92672">.</span>rihgt <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>recur_del(node<span style="color:#f92672">.</span>right, value)
        <span style="color:#66d9ef">else</span>:
            node<span style="color:#f92672">.</span>left <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>recur_del(node<span style="color:#f92672">.</span>left, value)

        <span style="color:#66d9ef">return</span> node

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">depth_sum</span>(self):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> self<span style="color:#f92672">.</span>root:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>

        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_depth_sum(self<span style="color:#f92672">.</span>root, <span style="color:#ae81ff">1</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_depth_sum</span>(self, node, n):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>

        <span style="color:#66d9ef">return</span> n<span style="color:#f92672">*</span>node<span style="color:#f92672">.</span>value <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>recur_depth_sum(node<span style="color:#f92672">.</span>left, n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span>self<span style="color:#f92672">.</span>recur_depth_sum(node<span style="color:#f92672">.</span>right, n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">height</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_height(self<span style="color:#f92672">.</span>root)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_height</span>(self, node):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>

        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> max([self<span style="color:#f92672">.</span>recur_height(node<span style="color:#f92672">.</span>left), self<span style="color:#f92672">.</span>recur_height(node<span style="color:#f92672">.</span>right)])

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">kth_smallest</span>(self, k):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> self<span style="color:#f92672">.</span>root:
            <span style="color:#66d9ef">return</span> None

        counts <span style="color:#f92672">=</span> []
        self<span style="color:#f92672">.</span>recur_kth_smallest(self<span style="color:#f92672">.</span>root, counts)

        <span style="color:#66d9ef">return</span> counts[k<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_kth_smallest</span>(self, node, counts):
        <span style="color:#66d9ef">if</span> node:
            self<span style="color:#f92672">.</span>recur_kth_smallest(node<span style="color:#f92672">.</span>left, counts)
            counts<span style="color:#f92672">.</span>append(node<span style="color:#f92672">.</span>value)
            self<span style="color:#f92672">.</span>recur_kth_smallest(node<span style="color:#f92672">.</span>right, counts)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lowest_common_ancestor</span>(self, a, b):
        node <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>root
        <span style="color:#66d9ef">while</span> node:
            <span style="color:#66d9ef">if</span> a <span style="color:#f92672">&gt;</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">&lt;</span> b:
                node <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>right
            <span style="color:#66d9ef">elif</span> a <span style="color:#f92672">&lt;</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">&gt;</span> b:
                node <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>left
            <span style="color:#66d9ef">else</span>:
                <span style="color:#66d9ef">return</span> node

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">num_empty</span>(self):
        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_num_empty(self<span style="color:#f92672">.</span>root)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_num_empty</span>(self, node):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node<span style="color:#f92672">.</span>left <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> node<span style="color:#f92672">.</span>right:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">2</span>

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node<span style="color:#f92672">.</span>left:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>self<span style="color:#f92672">.</span>recur_num_empty(node<span style="color:#f92672">.</span>right)

        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node<span style="color:#f92672">.</span>right:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>self<span style="color:#f92672">.</span>recur_num_empty(node<span style="color:#f92672">.</span>left)

        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>recur_num_empty(node<span style="color:#f92672">.</span>right) <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>recur_num_empty(node<span style="color:#f92672">.</span>left)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">deepest_left</span>(self):
        deeps <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>]
        self<span style="color:#f92672">.</span>recur_deepest_left(self<span style="color:#f92672">.</span>root, deeps, <span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">return</span> deeps[<span style="color:#ae81ff">0</span>]

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_deepest_left</span>(self, node, deeps, depth):
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node:
            <span style="color:#66d9ef">return</span>

        <span style="color:#66d9ef">if</span> depth <span style="color:#f92672">&gt;</span> deeps[<span style="color:#ae81ff">0</span>]:
            deeps[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> depth

        self<span style="color:#f92672">.</span>recur_deepest_left(node<span style="color:#f92672">.</span>left, deeps, depth<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
        self<span style="color:#f92672">.</span>recur_deepest_left(node<span style="color:#f92672">.</span>right, deeps, depth<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reversed</span>(self):
        self<span style="color:#f92672">.</span>recur_reversed(self<span style="color:#f92672">.</span>root)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">recur_reversed</span>(self, node):
        node<span style="color:#f92672">.</span>left, node<span style="color:#f92672">.</span>right <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>right, node<span style="color:#f92672">.</span>left
        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>left:
            self<span style="color:#f92672">.</span>recur_reversed(node<span style="color:#f92672">.</span>left)

        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>right:
            self<span style="color:#f92672">.</span>recur_reversed(node<span style="color:#f92672">.</span>right)

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">is_subtree</span>(self, sub):
        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">comp</span>(a, b):
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> a <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> b:
                <span style="color:#66d9ef">return</span> True

            <span style="color:#66d9ef">if</span> a <span style="color:#f92672">and</span> b:
                <span style="color:#66d9ef">return</span> a<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> b<span style="color:#f92672">.</span>value <span style="color:#f92672">and</span> comp(a<span style="color:#f92672">.</span>left, b<span style="color:#f92672">.</span>left) <span style="color:#f92672">and</span> comp(a<span style="color:#f92672">.</span>right, b<span style="color:#f92672">.</span>right)

            <span style="color:#66d9ef">return</span> False

        nodes <span style="color:#f92672">=</span> [self<span style="color:#f92672">.</span>root]
        flag <span style="color:#f92672">=</span> False
        <span style="color:#66d9ef">while</span> nodes:
            node <span style="color:#f92672">=</span> nodes<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">0</span>)
            <span style="color:#66d9ef">if</span> node <span style="color:#f92672">and</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> sub<span style="color:#f92672">.</span>value:
                flag <span style="color:#f92672">=</span> comp(node, sub)
                <span style="color:#66d9ef">break</span>
            <span style="color:#66d9ef">else</span>:
                nodes<span style="color:#f92672">.</span>append(node<span style="color:#f92672">.</span>left)
                nodes<span style="color:#f92672">.</span>append(node<span style="color:#f92672">.</span>right)

        <span style="color:#66d9ef">return</span> flag

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">longest_consecutive</span>(self):
        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">dfs</span>(node, val, kit, max_len):
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node:
                <span style="color:#66d9ef">return</span>

            <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> val:
                kit <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>

            <span style="color:#66d9ef">else</span>:
                kit <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>

            max_len[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> max(kit, max_len[<span style="color:#ae81ff">0</span>])

            dfs(node<span style="color:#f92672">.</span>left, node<span style="color:#f92672">.</span>value<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, kit, max_len)
            dfs(node<span style="color:#f92672">.</span>right, node<span style="color:#f92672">.</span>value<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, kit, max_len)

        max_len <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>]
        dfs(self<span style="color:#f92672">.</span>root, self<span style="color:#f92672">.</span>root<span style="color:#f92672">.</span>value, <span style="color:#ae81ff">0</span>, max_len)

        <span style="color:#66d9ef">return</span> max_len[<span style="color:#ae81ff">0</span>]

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">has_path_sum</span>(self, summ):
        <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">path_sum</span>(node, summ):
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node:
                <span style="color:#66d9ef">return</span> False

            <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> node<span style="color:#f92672">.</span>left <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> node<span style="color:#f92672">.</span>right <span style="color:#f92672">and</span> node<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> summ:
                <span style="color:#66d9ef">return</span> True

            summ <span style="color:#f92672">-=</span> node<span style="color:#f92672">.</span>value

            <span style="color:#66d9ef">return</span> path_sum(node<span style="color:#f92672">.</span>left, summ) <span style="color:#f92672">or</span> path_sum(node<span style="color:#f92672">.</span>right, summ)

        <span style="color:#66d9ef">return</span> path_sum(self<span style="color:#f92672">.</span>root, summ)


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    <span style="color:#75715e"># insert &amp;&amp; search</span>
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">assert</span> <span style="color:#f92672">not</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">1</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">3</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">2</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">4</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">7</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">5</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">9</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">10</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">12</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">14</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">19</span>)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>size() <span style="color:#f92672">==</span> <span style="color:#ae81ff">11</span>

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>search(<span style="color:#ae81ff">12</span>)
    <span style="color:#66d9ef">assert</span> <span style="color:#f92672">not</span> bst<span style="color:#f92672">.</span>search(<span style="color:#ae81ff">11</span>)

    <span style="color:#75715e"># delete node</span>
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">29</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">13</span>, <span style="color:#ae81ff">28</span>, <span style="color:#ae81ff">12</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    bst<span style="color:#f92672">.</span>delete(<span style="color:#ae81ff">8</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>root<span style="color:#f92672">.</span>left<span style="color:#f92672">.</span>right<span style="color:#f92672">.</span>right<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> <span style="color:#ae81ff">18</span>
    <span style="color:#66d9ef">assert</span> <span style="color:#f92672">not</span> bst<span style="color:#f92672">.</span>search(<span style="color:#ae81ff">8</span>)

    <span style="color:#75715e"># depth sum &amp;&amp; height &amp;&amp; kth_smallest &amp;&amp; num_empty</span>
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">18</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>depth_sum() <span style="color:#f92672">==</span> <span style="color:#ae81ff">253</span>
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>height() <span style="color:#f92672">==</span> <span style="color:#ae81ff">4</span>
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>num_empty() <span style="color:#f92672">==</span> <span style="color:#ae81ff">10</span>

    bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">2</span>)
    bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">1</span>)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>height() <span style="color:#f92672">==</span> <span style="color:#ae81ff">5</span>
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>kth_smallest(<span style="color:#ae81ff">3</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span>

    <span style="color:#75715e"># lowest_common_ancestor</span>
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">9</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>lowest_common_ancestor(<span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>value <span style="color:#f92672">==</span> <span style="color:#ae81ff">6</span>

    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">18</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>deepest_left() <span style="color:#f92672">==</span> <span style="color:#ae81ff">4</span>

    bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">20</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>deepest_left() <span style="color:#f92672">==</span> <span style="color:#ae81ff">5</span>

    <span style="color:#75715e"># is_subtree</span>
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">18</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    bbst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">7</span>]:
        bbst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>is_subtree(bbst<span style="color:#f92672">.</span>root)

    bbst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>]:
        bbst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> <span style="color:#f92672">not</span> bst<span style="color:#f92672">.</span>is_subtree(bbst<span style="color:#f92672">.</span>root)

    <span style="color:#75715e">#  longest_consecutive</span>
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>longest_consecutive() <span style="color:#f92672">==</span> <span style="color:#ae81ff">3</span>

    bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">0</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>longest_consecutive() <span style="color:#f92672">==</span> <span style="color:#ae81ff">4</span>

    bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">10</span>)
    bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">11</span>)
    bst<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">12</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>longest_consecutive() <span style="color:#f92672">==</span> <span style="color:#ae81ff">5</span>

    <span style="color:#75715e"># has_path_sum</span>
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">9</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>has_path_sum(<span style="color:#ae81ff">15</span>)
    <span style="color:#66d9ef">assert</span> bst<span style="color:#f92672">.</span>has_path_sum(<span style="color:#ae81ff">21</span>)
    <span style="color:#66d9ef">assert</span> <span style="color:#f92672">not</span> bst<span style="color:#f92672">.</span>has_path_sum(<span style="color:#ae81ff">22</span>)
</code></pre></div><ul>
<li>计算单边(左)节点数</li>
</ul>
<pre><code>Write a function count_left_node returns the number of left children in the
tree. For example: the following tree has four left children (the nodes
storing the values 6, 3, 7, and 10):
                    9
                 /      \
               6         12
              / \       /   \
            3     8   10      15
                 /              \
                7                18
    count_left_node = 4
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> bst <span style="color:#f92672">import</span> BST


<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count_left_node</span>(node):
    <span style="color:#66d9ef">if</span> node <span style="color:#f92672">is</span> None:
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>

    <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>left <span style="color:#f92672">is</span> None:
        <span style="color:#66d9ef">return</span> count_left_node(node<span style="color:#f92672">.</span>right)

    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>count_left_node(node<span style="color:#f92672">.</span>left)<span style="color:#f92672">+</span>count_left_node(node<span style="color:#f92672">.</span>right)


<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
    bst <span style="color:#f92672">=</span> BST()
    <span style="color:#66d9ef">for</span> v <span style="color:#f92672">in</span> [<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">18</span>]:
        bst<span style="color:#f92672">.</span>insert(v)

    <span style="color:#66d9ef">assert</span> count_left_node(bst<span style="color:#f92672">.</span>root) <span style="color:#f92672">==</span> <span style="color:#ae81ff">4</span>
</code></pre></div><ul>
<li>Trie</li>
</ul>
<p>主要用于保存字典</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> collections


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TrieNode</span>:
    <span style="color:#66d9ef">def</span> __init__(self):
        self<span style="color:#f92672">.</span>children <span style="color:#f92672">=</span> collections<span style="color:#f92672">.</span>defaultdict(TrieNode)
        self<span style="color:#f92672">.</span>is_word <span style="color:#f92672">=</span> False


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Trie</span>:
    <span style="color:#66d9ef">def</span> __init__(self):
        self<span style="color:#f92672">.</span>root <span style="color:#f92672">=</span> TrieNode()

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">insert</span>(self, word):
        node <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>root
        <span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> word:
            node <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>children[c]
        node<span style="color:#f92672">.</span>is_word <span style="color:#f92672">=</span> True

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">search</span>(self, word):
        node <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>root
        <span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> word:
            node <span style="color:#f92672">=</span> node<span style="color:#f92672">.</span>children<span style="color:#f92672">.</span>get(c)
            <span style="color:#66d9ef">if</span> node <span style="color:#f92672">is</span> None:
                <span style="color:#66d9ef">return</span> False

        <span style="color:#66d9ef">return</span> node<span style="color:#f92672">.</span>is_word
</code></pre></div>
            </article>
          </div>
          
      <div class='entry-meta-bottom'>
        

  <div class="entry-categories"><p><span>Categories</span>
    
    <a href="/categories/code" title="View all posts in code">code</a>
    <a href="/categories/deep-learning" title="View all posts in deep-learning">deep-learning</a>
    <a href="/categories/reinforce-learning" title="View all posts in reinforce-learning">reinforce-learning</a>
    <a href="/categories/tensorflow" title="View all posts in tensorflow">tensorflow</a>
  </p>
</div>



<div class="entry-tags"><p><span>Tags</span>
  
  <a href="/tags/cpp" title="View all posts tagged cpp">cpp</a>
  
  <a href="/tags/golang" title="View all posts tagged golang">golang</a>
  
  <a href="/tags/python" title="View all posts tagged python">python</a>
  
  <a href="/tags/%E7%AE%97%E6%B3%95" title="View all posts tagged 算法">算法</a>
  

</p></div>	</div>

<div class="author-meta">

  <div class="author">
    <img alt='Nevermore' src="https://www.gravatar.com/avatar/441d6f3623599f66569ae8478cf21f68?s=100&d=identicon" class='avatar avatar-72 photo' height='72' width='72'>

    <span>
      Written by:<a href="https://ne7ermore.github.io" title="Posts by Nevermore" rel="author">Nevermore</a>        </span>
    </div>
    <div class="bio">
      
      <p>步步生姿，空锁满庭花雨。胜将娇花比。</p>
      


      

    


  



<a class="email" target="_blank"
href="mailto:liaoyuanhuo1987@gmail.com">
<i class="fa fa-envelope"
title="email icon"></i>
</a>







<a class="github" target="_blank"
href="https://github.com/ne7ermore">
<i class="fa fa-github"
title="github icon"></i>
</a>


</div>
</div>

</div>
</div>

<section id="comments" class="comments">
  

  




</section>
</div>

 



    </div>

    <footer id="site-footer" class="site-footer" role="contentinfo">
	<h1>
    
    <a href=""> Nevermore </a>
    
	</h1>

			
			<p class="site-description">Why so serious</p>
			

		<div id="menu-footer" class="menu-container menu-footer" role="navigation">
		<div class="menu">

      <ul id="menu-footer-items" class="menu-footer-items">
        
</ul>

</div>	</div>

<ul class="social-media-icons">

        

        


        

        

        
        <li>
        <a href="mailto:liaoyuanhuo1987@gmail.com"  class="email">
            <i class="fa fa-envelope" title="email"></i>
            <span class="screen-reader-text">email</span>
        </a>
        </li>
        

        

        


        
        <li>
        <a href="https://github.com/ne7ermore"  class="github" target="_blank">
            <i class="fa fa-github" title="github"></i>
            <span class="screen-reader-text">github</span>
        </a>
        </li>
        
				</ul>	<div class="design-credit">
		
		<p>© Nevermore | 2019</p>
		
    </div>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [['$$','$$'], ['\[','\]']],
            processEscapes: true,
            processEnvironments: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            TeX: { equationNumbers: { autoNumber: "AMS" },
                extensions: ["AMSmath.js", "AMSsymbols.js"] }
            }
        });
    </script>
</footer>

  </div>
  <script src="https://ne7ermore.github.io/js/jquery.min.js"></script>
<script src="https://ne7ermore.github.io/js/jquerymigrate.js"></script>
<script src="https://ne7ermore.github.io/js/production.min.js"></script>

</body>
</html>
